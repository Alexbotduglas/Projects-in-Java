import java.util.Arrays; // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∫–ª–∞—Å—Å Arrays –¥–ª—è —É–¥–æ–±–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –º–∞—Å—Å–∏–≤–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è)
import java.util.Scanner; // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∫–ª–∞—Å—Å Scanner –¥–ª—è —Å—á–∏—Ç—ã–≤–∞–Ω–∏—è –≤–≤–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –∫–æ–Ω—Å–æ–ª–∏

/**
 * –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –∏–≥—Ä—ã "–ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏" (Tic-Tac-Toe).
 * –ò–≥—Ä–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –Ω–∞ –∫–æ–Ω—Å–æ–ª–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã—Ö —Ä–∞—É–Ω–¥–æ–≤, –º–µ–Ω—é –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–ª—è N x N.
 */
public class Main {

    // --- –°–¢–ê–¢–ò–ß–ï–°–ö–ò–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï (–ì–õ–û–ë–ê–õ–¨–ù–û–ï –°–û–°–¢–û–Ø–ù–ò–ï –ò–ì–†–´) ---

    // –û–±—ä–µ–∫—Ç Scanner, –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–π –∫–∞–∫ static final, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –ø–æ –≤—Å–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ
    // –∏ –∑–∞–∫—Ä—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ.
    private static final Scanner SCANNER = new Scanner(System.in);

    // –§–ª–∞–≥, —É–ø—Ä–∞–≤–ª—è—é—â–∏–π —Å–∞–º—ã–º –≤–Ω–µ—à–Ω–∏–º (–≥–ª–∞–≤–Ω—ã–º) —Ü–∏–∫–ª–æ–º –ø—Ä–æ–≥—Ä–∞–º–º—ã.
    // –ï—Å–ª–∏ false, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –º–µ–Ω—é –∏–ª–∏ –∫–æ–º–∞–Ω–¥–æ–π "EXIT".
    private static boolean continuePlaying = true;

    // –î–≤—É–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ 3x3.
    // –•—Ä–∞–Ω–∏—Ç —Å–∏–º–≤–æ–ª—ã: 'X', 'O' –∏–ª–∏ ' ' (–ø—Ä–æ–±–µ–ª –¥–ª—è –ø—É—Å—Ç–æ–π —è—á–µ–π–∫–∏).
    private static char[][] board = new char[3][3];

    // –°–∏–º–≤–æ–ª —Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω —Å–¥–µ–ª–∞—Ç—å —Ö–æ–¥. –ò–≥—Ä–∞ –≤—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 'X'.
    private static char currentPlayer = 'X';

    // –§–ª–∞–≥, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π, –∑–∞–≤–µ—Ä—à–µ–Ω –ª–∏ —Ç–µ–∫—É—â–∏–π —Ä–∞—É–Ω–¥ (–ø–æ–±–µ–¥–∞ –∏–ª–∏ –Ω–∏—á—å—è).
    private static boolean gameIsOver = false;

    // –§–ª–∞–≥ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ–ª—è.
    private static boolean secretModeActivated = false;

    // –¢–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è (N). –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ 3, –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å 5 —á–µ—Ä–µ–∑ –ø–∞—Å—Ö–∞–ª–∫—É.
    private static int boardSize = 3;

    // --- –û–°–ù–û–í–ù–û–ô –ú–ï–¢–û–î (–¢–û–ß–ö–ê –í–•–û–î–ê) ---
    public static void main(String[] args) {
        System.out.println("ü§ñ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∏–≥—Ä—É –ö—Ä–µ—Å—Ç–∏–∫–∏-–ù–æ–ª–∏–∫–∏!");

        // !!! –í–ù–ï–®–ù–ò–ô –¶–ò–ö–õ: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ú–µ–Ω—é –∏ –ú–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ—Å—Ç—å—é !!!
        // –¶–∏–∫–ª –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏–≥—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞—É–Ω–¥–æ–≤ –ø–æ–¥—Ä—è–¥ –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–≥—Ä–æ–π —á–µ—Ä–µ–∑ –º–µ–Ω—é.
        while (continuePlaying) {

            // 1. –ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é –∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ù–∞—á–∞—Ç—å/–ü—Ä–∞–≤–∏–ª–∞/–í—ã–π—Ç–∏)
            handleMenuSelection();

            // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª "–í—ã–π—Ç–∏" –≤ –º–µ–Ω—é (continuePlaying == false), –≤—ã—Ö–æ–¥–∏–º –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ —Ü–∏–∫–ª–∞
            if (!continuePlaying) {
                break;
            }

            // 2. –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã –∫ 3x3 –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –Ω–æ–≤–æ–≥–æ —Ä–∞—É–Ω–¥–∞
            resetGame();

            // 3. –ì–õ–ê–í–ù–´–ô –ò–ì–†–û–í–û–ô –¶–ò–ö–õ –û–î–ù–û–ì–û –†–ê–£–ù–î–ê
            // –≠—Ç–æ—Ç —Ü–∏–∫–ª —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ö–æ–¥–∞–º–∏ –≤ —Ç–µ–∫—É—â–µ–º —Ä–∞—É–Ω–¥–µ.
            while (!gameIsOver) {
                // –í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª–µ –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º —Ö–æ–¥–∞
                printBoard();

                // –ü–æ–ª—É—á–∞–µ–º —Ö–æ–¥ –∏–≥—Ä–æ–∫–∞. move —Å–æ–¥–µ—Ä–∂–∏—Ç [—Å—Ç—Ä–æ–∫–∞, —Å—Ç–æ–ª–±–µ—Ü] –∏–ª–∏ —Å–ø–µ—Ü–∫–æ–¥—ã.
                int[] move = getPlayerMove();
                int row = move[0];
                int col = move[1];

                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏—é –ø–∞—Å—Ö–∞–ª–∫–∏ (–∫–æ–¥ [-1, -1] –æ—Ç "JAVA")
                if (row == -1 && col == -1) {
                    activateSecretMode();
                    continue; // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –æ—Å—Ç–∞—Ç–æ–∫ —Ü–∏–∫–ª–∞, —á—Ç–æ–±—ã —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑–∞—Ç—å –Ω–æ–≤–æ–µ –ø–æ–ª–µ –∏ –Ω–µ –º–µ–Ω—è—Ç—å –∏–≥—Ä–æ–∫–∞
                }

                // !!! –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–æ–º–∞–Ω–¥—É –¥–æ—Å—Ä–æ—á–Ω–æ–≥–æ –≤—ã—Ö–æ–¥–∞ (–∫–æ–¥ [-2, -2] –æ—Ç "EXIT")
                if (row == -2 && col == -2) {
                    gameIsOver = true;         // –ó–∞–≤–µ—Ä—à–∞–µ–º —Ç–µ–∫—É—â–∏–π —Ä–∞—É–Ω–¥
                    continuePlaying = false;   // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–ª–∞–≥ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã
                    System.out.println("\nüëã –í—ã—Ö–æ–¥ –∏–∑ –∏–≥—Ä—ã. –°–ø–∞—Å–∏–±–æ!");
                    break;                     // –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –≤—ã—Ö–æ–¥ –∏–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Ü–∏–∫–ª–∞ —Ä–∞—É–Ω–¥–∞
                }

                // 4. –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ö–æ–¥–∞
                if (isValidMove(row, col)) {
                    // –°—Ç–∞–≤–∏–º —Å–∏–º–≤–æ–ª —Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞ –≤ –≤—ã–±—Ä–∞–Ω–Ω—É—é —è—á–µ–π–∫—É
                    board[row][col] = currentPlayer;

                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞—É–Ω–¥–∞
                    if (checkWin()) {
                        printBoard();
                        System.out.println("\nüéâ –ò–≥—Ä–æ–∫ " + currentPlayer + " –ø–æ–±–µ–¥–∏–ª!");
                        gameIsOver = true; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–ª–∞–≥ –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Ü–∏–∫–ª–∞
                    } else if (isBoardFull()) {
                        printBoard();
                        System.out.println("\nü§ù –ù–∏—á—å—è! –ü–æ–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ.");
                        gameIsOver = true; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–ª–∞–≥ –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Ü–∏–∫–ª–∞
                    } else {
                        // –ï—Å–ª–∏ –∏–≥—Ä–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è, –ø–µ—Ä–µ–¥–∞–µ–º —Ö–æ–¥ —Å–ª–µ–¥—É—é—â–µ–º—É –∏–≥—Ä–æ–∫—É
                        switchPlayer();
                    }
                } else {
                    // –°–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º —Ö–æ–¥–µ (–∑–∞–Ω—è—Ç–∞—è —è—á–µ–π–∫–∞ –∏–ª–∏ –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞)
                    System.out.println("‚ö†Ô∏è –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ö–æ–¥! –Ø—á–µ–π–∫–∞ –∑–∞–Ω—è—Ç–∞ –∏–ª–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω–µ –ø–æ–ª—è (1-" + (boardSize * boardSize) + "). –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.");
                }
            }

            // 5. –í–æ–∑–≤—Ä–∞—Ç –≤ –º–µ–Ω—é –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞—É–Ω–¥–∞ (–µ—Å–ª–∏ –Ω–µ –±—ã–ª –≤—ã–±—Ä–∞–Ω –¥–æ—Å—Ä–æ—á–Ω—ã–π –≤—ã—Ö–æ–¥)
            if (gameIsOver && continuePlaying) {
                // –ï—Å–ª–∏ —Ä–∞—É–Ω–¥ –∑–∞–≤–µ—Ä—à–∏–ª—Å—è (–ø–æ–±–µ–¥–∞/–Ω–∏—á—å—è) –∏ continuePlaying –≤—Å–µ –µ—â–µ true (–Ω–µ –±—ã–ª–æ EXIT),
                // –≤—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –≤–æ–∑–≤—Ä–∞—Ç–µ –≤ –º–µ–Ω—é.
                System.out.println("\n--- –†–∞—É–Ω–¥ –∑–∞–≤–µ—Ä—à–µ–Ω. –í–æ–∑–≤—Ä–∞—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é ---");
            }
        }

        System.out.println("–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.");
        // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –æ–±—ä–µ–∫—Ç–∞ Scanner –¥–ª—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
        SCANNER.close();
    }

    // -----------------------------------------------------
    // --- –ú–ï–¢–û–î–´ –£–ü–†–ê–í–õ–ï–ù–ò–Ø –ú–ï–ù–Æ, –¶–ò–ö–õ–û–ú –ò–ì–†–´ –ò –°–û–°–¢–û–Ø–ù–ò–ï–ú ---
    // -----------------------------------------------------

    /**
     * –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –æ–ø—Ü–∏—è–º–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
     */
    private static void displayMenu() {
        System.out.println("\n===== –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ =====");
        System.out.println("1. üöÄ –ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É (3x3)");
        System.out.println("2. üìú –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–∞–≤–∏–ª–∞");
        System.out.println("3. üö™ –í—ã–π—Ç–∏ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã");
        System.out.print("–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é (1-3): ");
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é.
     * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ü–∏–∫–ª while(true) –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –≤–≤–æ–¥–∞.
     */
    private static void handleMenuSelection() {
        while (true) {
            displayMenu();
            // –°—á–∏—Ç—ã–≤–∞–µ–º –≤–≤–æ–¥ –∫–∞–∫ —Å—Ç—Ä–æ–∫—É, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º —Å–æ Scanner'–æ–º –ø—Ä–∏ NumberFormatException
            String input = SCANNER.next().trim();

            try {
                int choice = Integer.parseInt(input);
                switch (choice) {
                    case 1:
                        // –í—ã–±–æ—Ä "–ù–∞—á–∞—Ç—å –∏–≥—Ä—É": –≤—ã—Ö–æ–¥–∏–º –∏–∑ —Ü–∏–∫–ª–∞ –º–µ–Ω—é –∏ –∑–∞–ø—É—Å–∫–∞–µ–º —Ä–∞—É–Ω–¥ –≤ main
                        System.out.println("\n--- –ò–≥—Ä–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è! ---");
                        return;
                    case 2:
                        // –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞
                        showRules();
                        break;
                    case 3:
                        // –í—ã—Ö–æ–¥: —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–ª–∞–≥ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ —Ü–∏–∫–ª–∞ main
                        continuePlaying = false;
                        return; // –í—ã—Ö–æ–¥ –∏–∑ –º–µ—Ç–æ–¥–∞ handleMenuSelection
                    default:
                        // –ï—Å–ª–∏ —á–∏—Å–ª–æ –≤–≤–µ–¥–µ–Ω–æ, –Ω–æ –æ–Ω–æ –Ω–µ 1, 2 –∏–ª–∏ 3
                        System.out.println("‚ö†Ô∏è –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤—ã–±–æ—Ä. –í–≤–µ–¥–∏—Ç–µ 1, 2 –∏–ª–∏ 3.");
                }
            } catch (NumberFormatException e) {
                // –ï—Å–ª–∏ –≤–≤–µ–¥–µ–Ω—ã –±—É–∫–≤—ã –∏–ª–∏ —Å–∏–º–≤–æ–ª—ã –≤–º–µ—Å—Ç–æ —á–∏—Å–ª–∞
                System.out.println("‚ö†Ô∏è –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–≤–æ–¥. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ (1-3).");
            }
        }
    }

    /**
     * –í—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã, –≤–∫–ª—é—á–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–∞—Å—Ö–∞–ª–∫–µ –∏ –≤—ã—Ö–æ–¥–µ.
     */
    private static void showRules() {
        System.out.println("\n========== –ü–†–ê–í–ò–õ–ê –ò–ì–†–´ ==========");
        System.out.println("1. –ò–≥—Ä–æ–∫–∏ 'X' –∏ 'O' —Ö–æ–¥—è—Ç –ø–æ –æ—á–µ—Ä–µ–¥–∏.");
        System.out.println("2. –•–æ–¥ —Å–æ–≤–µ—Ä—à–∞–µ—Ç—Å—è –ø—É—Ç–µ–º –≤–≤–æ–¥–∞ –Ω–æ–º–µ—Ä–∞ —è—á–µ–π–∫–∏ (–Ω—É–º–µ—Ä–∞—Ü–∏—è —Å 1 –¥–æ N*N).");
        System.out.println("3. –î–ª—è –ø–æ–±–µ–¥—ã –Ω—É–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å 3 —Å–≤–æ–∏—Ö —Å–∏–º–≤–æ–ª–∞ –ø–æ–¥—Ä—è–¥ (–ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏, –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ –∏–ª–∏ –¥–∏–∞–≥–æ–Ω–∞–ª–∏).");
        System.out.println("4. –ò–≥—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–µ–¥–µ—Ç—Å—è –Ω–∞ –ø–æ–ª–µ 3x3.");
        System.out.println("5. ‚≠ê –°–ï–ö–†–ï–¢ ‚≠ê: –í–≤–µ–¥–∏—Ç–µ 'JAVA' –≤–º–µ—Å—Ç–æ –Ω–æ–º–µ—Ä–∞ —è—á–µ–π–∫–∏, —á—Ç–æ–±—ã —Ä–∞—Å—à–∏—Ä–∏—Ç—å –ø–æ–ª–µ –¥–æ 5x5 –∏ –Ω–∞—á–∞—Ç—å —Ö–∞—Ä–¥–∫–æ—Ä–Ω—ã–π —Ä–∞—É–Ω–¥.");
        System.out.println("6. üö™ –î–û–°–†–û–ß–ù–´–ô –í–´–•–û–î: –í–≤–µ–¥–∏—Ç–µ 'EXIT' –≤–º–µ—Å—Ç–æ –Ω–æ–º–µ—Ä–∞ —è—á–µ–π–∫–∏ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç, —á—Ç–æ–±—ã –∑–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É.");
        System.out.println("===================================");
    }

    /**
     * –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –≤—Å–µ –∏–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫ –Ω–∞—á–∞–ª—å–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é 3x3.
     * –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ—Å—Ç–∏ –∏–≥—Ä—ã.
     */
    private static void resetGame() {
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä –ø–æ–ª—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        boardSize = 3;
        // –°–æ–∑–¥–∞–µ–º –∏ –∑–∞–ø–æ–ª–Ω—è–µ–º –Ω–æ–≤–æ–µ –ø–æ–ª–µ 3x3 (—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å–±—Ä–æ—Å –ø–æ–ª—è)
        initializeBoard();
        // –ù–∞—á–∏–Ω–∞–µ—Ç –≤—Å–µ–≥–¥–∞ 'X'
        currentPlayer = 'X';
        // –°–±—Ä–æ—Å —Ñ–ª–∞–≥–æ–≤
        gameIsOver = false;
        secretModeActivated = false;
        System.out.println("\n--- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –ù–∞—á–∞—Ç –ù–û–í–´–ô –†–ê–£–ù–î (3x3) ---");
    }

    // ------------------------------------------
    // --- –ú–ï–¢–û–î–´ –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–ò, –û–¢–û–ë–†–ê–ñ–ï–ù–ò–Ø –∏ –í–í–û–î–ê –•–û–î–ê ---
    // ------------------------------------------

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–≤—É–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤ board —Ç–µ–∫—É—â–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ boardSize –∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç –µ–≥–æ –ø—Ä–æ–±–µ–ª–∞–º–∏ (' ').
     */
    private static void initializeBoard() {
        // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 3x3 –∏–ª–∏ 5x5)
        board = new char[boardSize][boardSize];
        // –¶–∏–∫–ª –¥–ª—è –ø—Ä–æ—Ö–æ–¥–∞ –ø–æ —Å—Ç—Ä–æ–∫–∞–º –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è
        for (int i = 0; i < boardSize; i++) {
            // Arrays.fill() –±—ã—Å—Ç—Ä–æ –∑–∞–ø–æ–ª–Ω—è–µ—Ç –≤—Å—é —Å—Ç—Ä–æ–∫—É —É–∫–∞–∑–∞–Ω–Ω—ã–º —Å–∏–º–≤–æ–ª–æ–º
            Arrays.fill(board[i], ' ');
        }
    }

    /**
     * –í—ã–≤–æ–¥–∏—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è –≤ –∫–æ–Ω—Å–æ–ª—å —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º (—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏).
     */
    private static void printBoard() {
        System.out.println("\n--- –¢–µ–∫—É—â–µ–µ –ø–æ–ª–µ (" + boardSize + "x" + boardSize + ") ---");
        // –¶–∏–∫–ª –ø–æ —Å—Ç—Ä–æ–∫–∞–º
        for (int i = 0; i < boardSize; i++) {
            System.out.print("|"); // –ù–∞—á–∞–ª—å–Ω—ã–π –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
            // –¶–∏–∫–ª –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º
            for (int j = 0; j < boardSize; j++) {
                // –ü–µ—á–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —è—á–µ–π–∫–∏ –∏ –ø—Ä–∞–≤–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è
                System.out.print(" " + board[i][j] + " |");
            }
            System.out.println(); // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É

            // –ü–µ—á–∞—Ç—å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è, –∫—Ä–æ–º–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å—Ç—Ä–æ–∫–∏
            if (i < boardSize - 1) {
                // –¶–∏–∫–ª –¥–ª—è –ø–µ—á–∞—Ç–∏ "----" –¥–ª—è –∫–∞–∂–¥–æ–π —è—á–µ–π–∫–∏
                for(int k = 0; k < boardSize; k++) System.out.print("----");
                System.out.println("-"); // –ó–∞–≤–µ—Ä—à–∞—é—â–∏–π –¥–µ—Ñ–∏—Å –∏ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É
            }
        }
        System.out.println("--------------------------------\n");
    }

    /**
     * –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç —Å–µ–∫—Ä–µ—Ç–Ω—ã–π —Ä–µ–∂–∏–º: –º–µ–Ω—è–µ—Ç —Ä–∞–∑–º–µ—Ä –ø–æ–ª—è –Ω–∞ 5x5 –∏ —Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏–≥—Ä—É.
     */
    private static void activateSecretMode() {
        if (!secretModeActivated) {
            System.out.println("\n‚≠ê‚≠ê‚≠ê –ü–ê–°–•–ê–õ–ö–ê –ê–ö–¢–ò–í–ò–†–û–í–ê–ù–ê! ‚≠ê‚≠ê‚≠ê");
            System.out.println(">>> –ù–∞–≥—Ä–∞–¥–∞: –ü–æ–ª–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–æ –¥–æ 5x5! –ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å —Ö–∞—Ä–¥–∫–æ—Ä–æ–º! <<<");

            secretModeActivated = true;
            boardSize = 5; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä
            initializeBoard(); // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–µ, –±–æ–ª—å—à–æ–µ, –ø—É—Å—Ç–æ–µ –ø–æ–ª–µ
            currentPlayer = 'X'; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∏–≥—Ä–æ–∫–∞, —á—Ç–æ–±—ã –∞–∫—Ç–∏–≤–∞—Ü–∏—è –Ω–µ —Å—Ç–æ–∏–ª–∞ —Ö–æ–¥–∞
        } else {
            System.out.println("–°–µ–∫—Ä–µ—Ç–Ω—ã–π —Ä–µ–∂–∏–º —É–∂–µ –∞–∫—Ç–∏–≤–µ–Ω. –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –∏–≥—Ä–∞—Ç—å!");
        }
    }

    /**
     * –°—á–∏—Ç—ã–≤–∞–µ—Ç –≤–≤–æ–¥ –æ—Ç –∏–≥—Ä–æ–∫–∞ –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –µ–≥–æ –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–¥—ã.
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –≤–≤–æ–¥–∞ –∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –≤–≤–æ–¥ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
     * @return –ú–∞—Å—Å–∏–≤ int[2]: [—Å—Ç—Ä–æ–∫–∞, —Å—Ç–æ–ª–±–µ—Ü], [-1, -1] –¥–ª—è "JAVA" –∏–ª–∏ [-2, -2] –¥–ª—è "EXIT".
     */
    private static int[] getPlayerMove() {
        // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä —è—á–µ–π–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 9 –¥–ª—è 3x3)
        int maxCell = boardSize * boardSize;

        System.out.print("–ò–≥—Ä–æ–∫ " + currentPlayer + ", –≤–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —è—á–µ–π–∫–∏ (1-" + maxCell + ") –∏–ª–∏ EXIT: ");

        String input = SCANNER.next().trim();

        // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥ (—Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ)
        if (input.toUpperCase().equals("JAVA")) {
            return new int[]{-1, -1};
        }

        // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–æ–º–∞–Ω–¥—É –¥–æ—Å—Ä–æ—á–Ω–æ–≥–æ –≤—ã—Ö–æ–¥–∞ (—Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ)
        if (input.toUpperCase().equals("EXIT")) {
            return new int[]{-2, -2}; // –ö–æ–¥ –¥–ª—è –≤—ã—Ö–æ–¥–∞
        }

        // 3. –ü–æ–ø—ã—Ç–∫–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ —á–∏—Å–ª–æ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
        try {
            // –ü–æ–ø—ã—Ç–∫–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–æ–∫–∏ –≤ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ. –ú–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å NumberFormatException.
            int cellNumber = Integer.parseInt(input);

            // –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –≤–≤–µ–¥–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥–æ–ø—É—Å—Ç–∏–º–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ (–æ—Ç 1 –¥–æ N*N)
            if (cellNumber < 1 || cellNumber > maxCell) {
                System.out.println("‚ö†Ô∏è –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ " + maxCell + ".");
                return getPlayerMove(); // –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
            }

            // --- –ö–û–ù–í–ï–†–¢–ê–¶–ò–Ø –ù–û–ú–ï–†–ê –í –ö–û–û–†–î–ò–ù–ê–¢–´ –ú–ê–°–°–ò–í–ê ---
            int index = cellNumber - 1; // –ü–µ—Ä–µ—Ö–æ–¥ –∫ 0-–∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
            // –°—Ç—Ä–æ–∫–∞: –¶–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ –Ω–∞ —Ä–∞–∑–º–µ—Ä –ø–æ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 5 / 3 = 1)
            int row = index / boardSize;
            // –°—Ç–æ–ª–±–µ—Ü: –û—Å—Ç–∞—Ç–æ–∫ –æ—Ç –¥–µ–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞ –Ω–∞ —Ä–∞–∑–º–µ—Ä –ø–æ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 5 % 3 = 2)
            int col = index % boardSize;

            return new int[]{row, col}; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≤–∞–ª–∏–¥–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã

        } catch (NumberFormatException e) {
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª—É—á–∞—è, –∫–æ–≥–¥–∞ –≤–≤–æ–¥ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –Ω–∏ —á–∏—Å–ª–æ–º, –Ω–∏ —Å–ø–µ—Ü–∫–æ–¥–æ–º
            System.out.println("‚ö†Ô∏è –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–≤–æ–¥. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ (1-" + maxCell + "), 'JAVA' –∏–ª–∏ 'EXIT'.");
            return getPlayerMove(); // –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
        }
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ö–æ–¥ –¥–æ–ø—É—Å—Ç–∏–º—ã–º: –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ —è—á–µ–π–∫–∞ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –ø–æ–ª—è –∏ –ø—É—Å—Ç–∞ –ª–∏ –æ–Ω–∞.
     */
    private static boolean isValidMove(int row, int col) {
        // –ü—Ä–æ–≤–µ—Ä–∫–∞: —Å—Ç—Ä–æ–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å >= 0 –∏ < boardSize
        if (row < 0 || row >= boardSize) {
            return false;
        }
        // –ü—Ä–æ–≤–µ—Ä–∫–∞: —Å—Ç–æ–ª–±–µ—Ü –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å >= 0 –∏ < boardSize
        if (col < 0 || col >= boardSize) {
            return false;
        }
        // –ü—Ä–æ–≤–µ—Ä–∫–∞: —è—á–µ–π–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—É—Å—Ç–∞ (—Å–æ–¥–µ—Ä–∂–∞—Ç—å ' ')
        return board[row][col] == ' ';
    }

    /**
     * –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞ —Å 'X' –Ω–∞ 'O' –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç.
     */
    private static void switchPlayer() {
        // –¢–µ—Ä–Ω–∞—Ä–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä: –µ—Å–ª–∏ —Ç–µ–∫—É—â–∏–π –∏–≥—Ä–æ–∫ 'X', –¥–µ–ª–∞–µ–º 'O', –∏–Ω–∞—á–µ –¥–µ–ª–∞–µ–º 'X'
        currentPlayer = (currentPlayer == 'X') ? 'O' : 'X';
    }

    // -----------------------------------------------------------------
    // --- –ú–ï–¢–û–î–´ –ü–†–û–í–ï–†–ö–ò –°–û–°–¢–û–Ø–ù–ò–Ø –ò–ì–†–´ (–õ–æ–≥–∏–∫–∞ 3-–≤-—Ä—è–¥ –Ω–∞ –ø–æ–ª–µ N x N) ---
    // -----------------------------------------------------------------

    /**
     * –û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–±–µ–¥—ã, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç—Ä–æ–∫, —Å—Ç–æ–ª–±—Ü–æ–≤ –∏ –¥–∏–∞–≥–æ–Ω–∞–ª–µ–π.
     */
    private static boolean checkWin() {
        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –ò–õ–ò: –ø–æ–±–µ–¥–∞, –µ—Å–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –ª—é–±–æ–µ –∏–∑ —É—Å–ª–æ–≤–∏–π
        return (checkRows() || checkColumns() || checkDiagonals());
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ç—Ä–µ—Ö –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ –ø–æ–¥—Ä—è–¥ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏.
     * –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ø–æ–ª—è –ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ N x N.
     */
    private static boolean checkRows() {
        for (int i = 0; i < boardSize; i++) { // –ü–µ—Ä–µ–±–æ—Ä –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫
            // –ü–µ—Ä–µ–±–æ—Ä –Ω–∞—á–∞–ª—å–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π –¥–ª—è —Ç—Ä–æ–π–∫–∏. J –¥–æ—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –¥–æ (N - 3).
            // –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ j+2 –Ω–µ –≤—ã–π–¥–µ—Ç –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –º–∞—Å—Å–∏–≤–∞.
            for (int j = 0; j <= boardSize - 3; j++) {
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–µ—Ö —è—á–µ–µ–∫ –ø–æ–¥—Ä—è–¥ –≤ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–æ–∫–µ: [i][j], [i][j+1], [i][j+2]
                if (board[i][j] == currentPlayer && board[i][j+1] == currentPlayer && board[i][j+2] == currentPlayer) {
                    return true;
                }
            }
        }
        return false;
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ç—Ä–µ—Ö –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ –ø–æ–¥—Ä—è–¥ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏.
     * –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ø–æ–ª—è –ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ N x N.
     */
    private static boolean checkColumns() {
        for (int j = 0; j < boardSize; j++) { // –ü–µ—Ä–µ–±–æ—Ä –≤—Å–µ—Ö —Å—Ç–æ–ª–±—Ü–æ–≤
            // –ü–µ—Ä–µ–±–æ—Ä –Ω–∞—á–∞–ª—å–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π –¥–ª—è —Ç—Ä–æ–π–∫–∏. I –¥–æ—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –¥–æ (N - 3).
            for (int i = 0; i <= boardSize - 3; i++) {
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–µ—Ö —è—á–µ–µ–∫ –ø–æ–¥—Ä—è–¥ –≤ —Ç–µ–∫—É—â–µ–º —Å—Ç–æ–ª–±—Ü–µ: [i][j], [i+1][j], [i+2][j]
                if (board[i][j] == currentPlayer && board[i+1][j] == currentPlayer && board[i+2][j] == currentPlayer) {
                    return true;
                }
            }
        }
        return false;
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ç—Ä–µ—Ö –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ –ø–æ–¥—Ä—è–¥ –ø–æ –æ–±–µ–∏–º –¥–∏–∞–≥–æ–Ω–∞–ª—è–º.
     * –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ø–æ–ª—è –ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ N x N.
     */
    private static boolean checkDiagonals() {
        // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–ª–∞–≤–Ω–æ–π –¥–∏–∞–≥–æ–Ω–∞–ª–∏ (—Å–≤–µ—Ä—Ö—É-—Å–ª–µ–≤–∞ –≤–Ω–∏–∑-–≤–ø—Ä–∞–≤–æ)
        // –í–Ω–µ—à–Ω–∏–µ —Ü–∏–∫–ª—ã –ø–µ—Ä–µ–±–∏—Ä–∞—é—Ç –≤–æ–∑–º–æ–∂–Ω—ã–µ –≤–µ—Ä—Ö–Ω–∏–µ –ª–µ–≤—ã–µ —É–≥–ª—ã –¥–ª—è –æ–∫–Ω–∞ 3x3.
        for (int i = 0; i <= boardSize - 3; i++) {
            for (int j = 0; j <= boardSize - 3; j++) {
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–æ–π–∫–∏ –ø–æ –≥–ª–∞–≤–Ω–æ–π –¥–∏–∞–≥–æ–Ω–∞–ª–∏: (i, j), (i+1, j+1), (i+2, j+2)
                if (board[i][j] == currentPlayer && board[i+1][j+1] == currentPlayer && board[i+2][j+2] == currentPlayer) {
                    return true;
                }
            }
        }

        // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–±–æ—á–Ω–æ–π –¥–∏–∞–≥–æ–Ω–∞–ª–∏ (—Å–≤–µ—Ä—Ö—É-—Å–ø—Ä–∞–≤–∞ –≤–Ω–∏–∑-–≤–ª–µ–≤–æ)
        // –í–Ω–µ—à–Ω–∏–π —Ü–∏–∫–ª –ø–µ—Ä–µ–±–∏—Ä–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω—ã–µ –≤–µ—Ä—Ö–Ω–∏–µ –ø—Ä–∞–≤—ã–µ —É–≥–ª—ã –¥–ª—è –æ–∫–Ω–∞ 3x3.
        for (int i = 0; i <= boardSize - 3; i++) {
            // J –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 2 (—Ç.–∫. –Ω—É–∂–Ω–æ 3 —Å—Ç–æ–ª–±—Ü–∞ —Å–ø—Ä–∞–≤–∞) –∏ –∏–¥–µ—Ç –¥–æ boardSize - 1.
            for (int j = 2; j < boardSize; j++) {
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–æ–π–∫–∏ –ø–æ –ø–æ–±–æ—á–Ω–æ–π –¥–∏–∞–≥–æ–Ω–∞–ª–∏: (i, j), (i+1, j-1), (i+2, j-2)
                if (board[i][j] == currentPlayer && board[i+1][j-1] == currentPlayer && board[i+2][j-2] == currentPlayer) {
                    return true;
                }
            }
        }
        return false;
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –ª–∏ –≤—Å–µ –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ (—É—Å–ª–æ–≤–∏–µ –¥–ª—è –Ω–∏—á—å–µ–π).
     */
    private static boolean isBoardFull() {
        // –ü–æ–∏—Å–∫ –ø—É—Å—Ç–æ–π —è—á–µ–π–∫–∏
        for (int i = 0; i < boardSize; i++) {
            for (int j = 0; j < boardSize; j++) {
                // –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–∞ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ –ø—É—Å—Ç–∞—è —è—á–µ–π–∫–∞
                if (board[i][j] == ' ') {
                    return false; // –ü–æ–ª–µ –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º false –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
                }
            }
        }
        return true; // –¶–∏–∫–ª—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã, –ø—É—Å—Ç—ã—Ö —è—á–µ–µ–∫ –Ω–µ—Ç - –Ω–∏—á—å—è
    }
}
