public class Board {
    // Поля класса (состояние)

    private final char[][] board;      // Двумерный массив для хранения состояния игрового поля.
                                    // Хранит символы 'X', 'O' или '-' (пустая клетка).
    private static final int SIZE = 3; // Константа, определяющая размер поля (3x3) для легкой модификации.

    // Конструктор класса Board

    public Board() {
        // Инициализация двумерного массива заданного размера (3 на 3).
        board = new char[SIZE][SIZE];
        // Вызов метода для заполнения всего поля символами-заполнителями ('-').
        initializeBoard();
    }

    // Инициализация поля пустыми клетками

    private void initializeBoard() {
        // Внешний цикл проходит по строкам (i - индекс строки).
        for (int i = 0; i < SIZE; i++) {
            // Внутренний цикл проходит по столбцам (j - индекс столбца).
            for (int j = 0; j < SIZE; j++) {
                // Установка символа '-' (тире) в каждую клетку, обозначающего, что она пуста.
                board[i][j] = '-';
            }
        }
    }

    // Отображение текущего состояния поля в консоли

    public void display() {
        System.out.println("\nТекущее поле:");
        // Внешний цикл для вывода строк.
        for (int i = 0; i < SIZE; i++) {
            // Внутренний цикл для вывода элементов в строке.
            for (int j = 0; j < SIZE; j++) {
                // Вывод содержимого клетки, за которым следует пробел для форматирования.
                System.out.print(board[i][j] + " ");
            }
            // Переход на новую строку после вывода всех столбцов текущей строки.
            System.out.println();
        }
        System.out.println(); // Дополнительная пустая строка для читабельности.
    }

    // Проверка, свободна ли клетка по заданным координатам

    public boolean isCellEmpty(int row, int col) {
        // Возвращает true, если в указанной клетке находится символ '-'.
        return board[row][col] == '-';
    }

    // Установка символа ('X' или 'O') в клетку по заданным координатам

    public void setCell(int row, int col, char symbol) {
        // Присваивание символа игрока указанной клетке.
        board[row][col] = symbol;
    }

    // Проверка условий победы для заданного символа

    public boolean checkWin(char symbol) {
        // Проверка строк и столбцов (в одном цикле для оптимизации)
        // Цикл проходит по всем строкам и столбцам.
        for (int i = 0; i < SIZE; i++) {
            // Проверка победы по строке i: все три элемента в строке должны быть равны символу.
            if ((board[i][0] == symbol && board[i][1] == symbol && board[i][2] == symbol) ||
                    // Проверка победы по столбцу i: все три элемента в столбце должны быть равны символу.
                    (board[0][i] == symbol && board[1][i] == symbol && board[2][i] == symbol)) {
                return true; // Найдено совпадение по строке или столбцу.
            }
        }

        // Проверка диагоналей

        // Проверка главной диагонали (слева-сверху направо-вниз).
        if ((board[0][0] == symbol && board[1][1] == symbol && board[2][2] == symbol) ||
                // Проверка побочной диагонали (справа-сверху налево-вниз).
                (board[0][2] == symbol && board[1][1] == symbol && board[2][0] == symbol)) {
            return true; // Найдено совпадение по диагонали.
        }

        return false; // Условия победы для данного символа не выполнены.
    }

    // Проверка на ничью (заполнено ли все поле)

    public boolean isFull() {
        // Внешний цикл проходит по строкам.
        for (int i = 0; i < SIZE; i++) {
            // Внутренний цикл проходит по столбцам.
            for (int j = 0; j < SIZE; j++) {
                // Если найдена хотя бы одна пустая клетка ('-').
                if (board[i][j] == '-') {
                    return false; // Игра еще не закончена (не ничья).
                }
            }
        }
        // Если цикл завершился, значит, все клетки заполнены.
        return true; // Ничья (поле заполнено).
    }
}
